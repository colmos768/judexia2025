{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <div class="card shadow-sm">
    <div class="card-header bg-success text-white fw-semibold">
      ‚ûï Registrar Honorario
    </div>
    <div class="card-body">
      <form method="POST" class="row g-3">

        <div class="col-md-6">
          <label for="cliente_id" class="form-label">Cliente</label>
          <select name="cliente_id" id="cliente_id" class="form-select" required>
            {% for cliente in clientes %}
              <option value="{{ cliente.id }}">{{ cliente.nombre }} ({{ cliente.rut }})</option>
            {% endfor %}
          </select>
        </div>

        <div class="col-md-6">
          <label for="causa_id" class="form-label">Causa (opcional)</label>
          <select name="causa_id" id="causa_id" class="form-select">
            <option value="">-- Sin causa --</option>
            {% for causa in causas %}
              <option value="{{ causa.id }}">{{ causa.rol }} - {{ causa.tribunal }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="col-md-12">
          <label for="descripcion" class="form-label">Descripci√≥n</label>
          <input type="text" name="descripcion" id="descripcion" class="form-control" required>
        </div>

        <div class="col-md-6">
          <label for="monto_total" class="form-label">Monto Total</label>
          <input type="number" name="monto_total" id="monto_total" class="form-control" step="0.01" required>
        </div>

        <div class="col-md-6">
          <label for="fecha_emision" class="form-label">Fecha de Emisi√≥n</label>
          <input type="date" name="fecha_emision" id="fecha_emision" class="form-control" value="{{ date_today }}">
        </div>

        <div class="col-md-12">
          <div class="form-check">
            <input type="checkbox" name="en_cuotas" id="en_cuotas" class="form-check-input">
            <label for="en_cuotas" class="form-check-label">¬øDividir en cuotas?</label>
          </div>
        </div>

        <div class="col-md-6">
          <label for="numero_cuotas" class="form-label">N√∫mero de Cuotas</label>
          <input type="number" name="numero_cuotas" id="numero_cuotas" class="form-control" min="1" value="1">
        </div>

        <div class="col-12 d-flex justify-content-between mt-3">
          <button type="submit" class="btn btn-success">üíæ Guardar Honorario</button>
          <a href="{{ url_for('facturacion') }}" class="btn btn-outline-secondary">‚Ü©Ô∏è Cancelar</a>
        </div>

      </form>
    </div>
  </div>
</div>
{% endblock %}


